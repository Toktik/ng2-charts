System.registerDynamic("ng2-charts/components/charts/charts",["@angular/core","@angular/common"],!0,function($__require,exports,module){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=$__require("@angular/core"),common_1=$__require("@angular/common"),ChartsComponent=function(){function ChartsComponent(){}return ChartsComponent=__decorate([core_1.Component({selector:"chart",template:"<canvas></canvas>",directives:[common_1.CORE_DIRECTIVES,common_1.NgClass]}),__metadata("design:paramtypes",[])],ChartsComponent)}();exports.ChartsComponent=ChartsComponent;var BaseChartComponent=function(){function BaseChartComponent(element){this.data=[],this.labels=[],this.options={responsive:!0},this.series=[],this.colours=[],this.chartClick=new core_1.EventEmitter,this.chartHover=new core_1.EventEmitter,this.initFlag=!1,this.defaultsColours=[{fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,0.8)",color:"rgba(151,187,205,1)",highlight:"rgba(151,187,205,0.8)"},{fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,0.8)",color:"rgba(220,220,220,1)",highlight:"rgba(220,220,220,0.8)"},{fillColor:"rgba(247,70,74,0.2)",strokeColor:"rgba(247,70,74,1)",pointColor:"rgba(247,70,74,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(247,70,74,0.8)",color:"rgba(247,70,74,1)",highlight:"rgba(247,70,74,0.8)"},{fillColor:"rgba(70,191,189,0.2)",strokeColor:"rgba(70,191,189,1)",pointColor:"rgba(70,191,189,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(70,191,189,0.8)",color:"rgba(70,191,189,1)",highlight:"rgba(70,191,189,0.8)"},{fillColor:"rgba(253,180,92,0.2)",strokeColor:"rgba(253,180,92,1)",pointColor:"rgba(253,180,92,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(253,180,92,0.8)",color:"rgba(253,180,92,1)",highlight:"rgba(253,180,92,0.8)"},{fillColor:"rgba(148,159,177,0.2)",strokeColor:"rgba(148,159,177,1)",pointColor:"rgba(148,159,177,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(148,159,177,0.8)",color:"rgba(148,159,177,1)",highlight:"rgba(148,159,177,0.8)"},{fillColor:"rgba(77,83,96,0.2)",strokeColor:"rgba(77,83,96,1)",pointColor:"rgba(77,83,96,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(77,83,96,0.8)",color:"rgba(77,83,96,1)",highlight:"rgba(77,83,96,0.8)"}],this.element=element}return BaseChartComponent.prototype.ngOnInit=function(){this.ctx=this.element.nativeElement.children[0].getContext("2d"),this.cvs=this.element.nativeElement.children[0],this.parent=this.element.nativeElement,this.initFlag=!0,console.log(this.data),this.data&&this.refresh()},BaseChartComponent.prototype.ngOnChanges=function(){console.log(this.data),this.initFlag&&this.refresh()},BaseChartComponent.prototype.ngOnDestroy=function(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.legendTemplate&&(this.legendTemplate.destroy(),this.legendTemplate=void 0)},BaseChartComponent.prototype.setLegend=function(){var list=this.parent.getElementsByTagName("ul");list.length?(list[0].remove(),this.parent.insertAdjacentHTML("beforeend",this.chart.generateLegend())):this.parent.insertAdjacentHTML("beforeend",this.chart.generateLegend())},BaseChartComponent.prototype.getColour=function(colour){return{fillColor:this.rgba(colour,.2),strokeColor:this.rgba(colour,1),pointColor:this.rgba(colour,1),pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:this.rgba(colour,.8),color:this.rgba(colour,1),highlight:this.rgba(colour,.8)}},BaseChartComponent.prototype.getRandomInt=function(min,max){return Math.floor(Math.random()*(max-min+1))+min},BaseChartComponent.prototype.rgba=function(colour,alpha){return"rgba("+colour.concat(alpha).join(",")+")"},BaseChartComponent.prototype.click=function(evt){var atEvent=this.chart.getPointsAtEvent||this.chart.getBarsAtEvent||this.chart.getSegmentsAtEvent,activePoints=atEvent.call(this.chart,evt);if(activePoints.length>0){var activeLabel=activePoints[0].label;this.chartClick.emit({activePoints:activePoints,activeLabel:activeLabel})}},BaseChartComponent.prototype.hover=function(evt){var atEvent=this.chart.getPointsAtEvent||this.chart.getBarsAtEvent||this.chart.getSegmentsAtEvent,activePoints=atEvent.call(this.chart,evt);if(activePoints.length>0){var activeLabel=activePoints[0].label,activePoint=activePoints[0].value;this.chartHover.emit({activePoints:activePoints,activePoint:activePoint,activeLabel:activeLabel})}},BaseChartComponent.prototype.getChartBuilder=function(ctx,data,options){var opts=options;return opts.data=data,opts.type=this.chartType,new Chart(ctx,opts)},BaseChartComponent.prototype.getDataObject=function(label,value){return"line"===this.chartType||"bar"===this.chartType||"radar"===this.chartType?{label:label,data:value}:"pie"===this.chartType||"doughnut"===this.chartType||"polarArea"===this.chartType?{label:label,value:value}:void 0},BaseChartComponent.prototype.getChartData=function(labels,dataObject){return"line"===this.chartType||"bar"===this.chartType||"radar"===this.chartType?{labels:labels,datasets:dataObject}:"pie"===this.chartType||"doughnut"===this.chartType||"polarArea"===this.chartType?dataObject:void 0},BaseChartComponent.prototype.refresh=function(){var _this=this;if(this.options.responsive&&0===this.parent.clientHeight)return setTimeout(function(){return _this.refresh()},50);this.ngOnDestroy();for(var dataset=[],i=0;i<this.data.length;i++){var colourDesc=[this.getRandomInt(0,255),this.getRandomInt(0,255),this.getRandomInt(0,255)],colour=i<this.colours.length?this.colours[i]:this.defaultsColours[i]||this.getColour(colourDesc),data_1=Object.assign(colour,this.getDataObject(this.series[i]||this.labels[i],this.data[i]));dataset.push(data_1)}var data=this.getChartData(this.labels,dataset);this.chart=this.getChartBuilder(this.ctx,data,this.options),this.legend&&this.setLegend()},__decorate([core_1.Input(),__metadata("design:type",Array)],BaseChartComponent.prototype,"data",void 0),__decorate([core_1.Input(),__metadata("design:type",Array)],BaseChartComponent.prototype,"labels",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],BaseChartComponent.prototype,"options",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],BaseChartComponent.prototype,"chartType",void 0),__decorate([core_1.Input(),__metadata("design:type",Array)],BaseChartComponent.prototype,"series",void 0),__decorate([core_1.Input(),__metadata("design:type",Array)],BaseChartComponent.prototype,"colours",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],BaseChartComponent.prototype,"legend",void 0),__decorate([core_1.HostBinding(),__metadata("design:type",core_1.EventEmitter)],BaseChartComponent.prototype,"chartClick",void 0),__decorate([core_1.HostBinding(),__metadata("design:type",core_1.EventEmitter)],BaseChartComponent.prototype,"chartHover",void 0),BaseChartComponent=__decorate([core_1.Component({selector:"base-chart",template:'\n  <canvas style="width: 100%; height: 100%;" (click)="click($event)" (mousemove)="hover($event)"></canvas>\n  ',directives:[common_1.CORE_DIRECTIVES,common_1.FORM_DIRECTIVES,common_1.NgClass]}),__metadata("design:paramtypes",[core_1.ElementRef])],BaseChartComponent)}();return exports.BaseChartComponent=BaseChartComponent,exports.CHART_DIRECTIVES=[ChartsComponent,BaseChartComponent],module.exports}),System.registerDynamic("ng2-charts/ng2-charts",["./components/charts/charts"],!0,function($__require,exports,module){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var charts_1=$__require("./components/charts/charts");return __export($__require("./components/charts/charts")),Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]={directives:[charts_1.CHART_DIRECTIVES]},module.exports});
//# sourceMappingURL=ng2-charts.min.js.map